## アセンブラ

・NASK：フリーソフトでは有名なアセンブラであるNASMの文法を多く踏襲し筆者が作成したアセンブラ。

###　命令

・DB命令：data byteの略。[func1]ファイルの内容を1バイトだけ直接書く。[func2]DB 文字列とすることで、文字列のそれぞれに対応する文字コードを並べる。

・RESB命令：reserve byteの略。指定バイトの領域をあけておく。NASKではあけるだけではなく、そこを0で埋める。

・DW命令、DD命令：それぞれdata word, data double-wordの略で、DB命令の仲間。wordは16bitをさす。つまり、double-wordは32bit

・＄：その行が先頭から何行目かを返す。つまり、DB $を5行目にかけば、ファイルに5と書き込む。

・ORG命令：originの略。機械語が実行時にPCのメモリのどこに読み込まれることになるかを指定する

・JMP命令：jumpの略。C言語でいうgo to。

・ラベル：「entry:」のように文字列:と書く。JMP命令の行き先などに用いる。ラベルが表すのはラベルのある番地である。つまり、MOV AX entryとすれば、entryのある番地がAXに代入される。そして、JMP AXとすれば、AXの表す番地、すなわち、entryのところに飛ぶことができる。

・MOV命令：moveの略。[func1]基本はMOV AX,0やMOV SS,AXと用いる。日本語に訳すと「移動」だが、実際の操作は代入であり、AX=0, SS=AXとなる。[func2]MOV BYTE [678],123などのように書くとメモリーに代入することができる。BYTEは代入する値の形式をさし、BYTEは1byte、WORDは2byteである。[678]はメモリー上のアドレスをさし、[]で囲って表記する。さきの命令は「メモリー上678番地に1byteのデータ”123”を代入せよ」となる。

・CMP命令：compareの略。CMP a,bなどのように用い、if(a==b)と相応の処理をする。

・JE命令：jump if equalの略。CMPの結果a==bの場合には指定されたラベルなどにjumpする。

・INT命令：interruptの略。ソフトウェア割込み命令で、BIOSの提供する関数を実行する。INT 3などのように書く。INTにつづく数字で度の関数を利用するか選ぶことができる。

・HLT命令：haltの略。CPUを待機状態にさせる。外部からの入力（マウスを動かす、キーボードに入力する等）で動作を再開する。

・キャリーフラグ(FLAGS.CF)：1ビットしか記憶できないレジスタをフラグという。CPUはフラグをいくつか持ち、キャリーフラグはキャリー（carry）という状態を示すためのもの。だが、フラグの中ではキャリーフラグが最も使いやすいのでそれ以外の用途でも用いられる。

・JC命令：jump if carryの略。キャリーフラグが1のときjumpする。

### フロッピーディスクの読み込み

近年のコンピュータではFDDは搭載されていないが当時のPCは多くがFDDドライブを搭載していた。FDDはBIOSだけで読み込みができ、手軽に利用できたようである。

参考：[https://ja.wikipedia.org/wiki/%E3%83%95%E3%83%AD%E3%83%83%E3%83%94%E3%83%BC%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AF](https://ja.wikipedia.org/wiki/フロッピーディスク)

